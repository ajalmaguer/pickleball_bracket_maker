import{R as L,r as f,a as je,j as m}from"./index-i3GOULRn.js";function sr(e){if(e<4)return alert("Minimum number of players is 4."),null;const t=e-1,n=e/4,r=[],o=Array.from({length:e},(i,c)=>c+1),s=o[0],a=o.slice(1);for(let i=0;i<t;i++){const c=[],l=[s,...a];for(let d=0;d<n;d++){const g=d*4;c.push({court:d+1,team1:[l[g]||null,l[g+1]||null],team2:[l[g+2]||null,l[g+3]||null]})}r.push(c);const u=a.pop();u!==void 0&&a.unshift(u)}return r}const xe={};function gn(e){return"init"in e}function xt(e){return!!e.write}function Gt(e){return"v"in e||"e"in e}function et(e){if("e"in e)throw e.e;if((xe?"production":void 0)!=="production"&&!("v"in e))throw new Error("[Bug] atom state is not initialized");return e.v}const tt=new WeakMap;function pn(e){var t;return nt(e)&&!!((t=tt.get(e))!=null&&t[0])}function ir(e){const t=tt.get(e);t?.[0]&&(t[0]=!1,t[1].forEach(n=>n()))}function St(e,t){let n=tt.get(e);if(!n){n=[!0,new Set],tt.set(e,n);const r=()=>{n[0]=!1};e.then(r,r)}n[1].add(t)}function nt(e){return typeof e?.then=="function"}function vn(e,t,n){if(!n.p.has(e)){n.p.add(e);const r=()=>n.p.delete(e);t.then(r,r)}}function bn(e,t,n){var r;const o=new Set;for(const s of((r=n.get(e))==null?void 0:r.t)||[])n.has(s)&&o.add(s);for(const s of t.p)o.add(s);return o}const ar=(e,t,...n)=>t.read(...n),cr=(e,t,...n)=>t.write(...n),lr=(e,t)=>{var n;return(n=t.unstable_onInit)==null?void 0:n.call(t,e)},ur=(e,t,n)=>{var r;return(r=t.onMount)==null?void 0:r.call(t,n)},dr=(e,t)=>{const n=P(e),r=n[0],o=n[9];if((xe?"production":void 0)!=="production"&&!t)throw new Error("Atom is undefined or null");let s=r.get(t);return s||(s={d:new Map,p:new Set,n:0},r.set(t,s),o?.(e,t)),s},fr=e=>{const t=P(e),n=t[1],r=t[3],o=t[4],s=t[5],a=t[6],i=t[13],c=[],l=u=>{try{u()}catch(d){c.push(d)}};do{a.f&&l(a.f);const u=new Set,d=u.add.bind(u);r.forEach(g=>{var h;return(h=n.get(g))==null?void 0:h.l.forEach(d)}),r.clear(),s.forEach(d),s.clear(),o.forEach(d),o.clear(),u.forEach(l),r.size&&i(e)}while(r.size||s.size||o.size);if(c.length)throw new AggregateError(c)},hr=e=>{const t=P(e),n=t[1],r=t[2],o=t[3],s=t[11],a=t[14],i=t[17],c=[],l=new WeakSet,u=new WeakSet,d=Array.from(o);for(;d.length;){const g=d[d.length-1],h=s(e,g);if(u.has(g)){d.pop();continue}if(l.has(g)){if(r.get(g)===h.n)c.push([g,h]);else if((xe?"production":void 0)!=="production"&&r.has(g))throw new Error("[Bug] invalidated atom exists");u.add(g),d.pop();continue}l.add(g);for(const v of bn(g,h,n))l.has(v)||d.push(v)}for(let g=c.length-1;g>=0;--g){const[h,v]=c[g];let b=!1;for(const p of v.d.keys())if(p!==h&&o.has(p)){b=!0;break}b&&(a(e,h),i(e,h)),r.delete(h)}},gr=(e,t)=>{var n,r;const o=P(e),s=o[1],a=o[2],i=o[3],c=o[6],l=o[7],u=o[11],d=o[12],g=o[13],h=o[14],v=o[16],b=o[17],p=u(e,t);if(Gt(p)&&(s.has(t)&&a.get(t)!==p.n||Array.from(p.d).every(([y,k])=>h(e,y).n===k)))return p;p.d.clear();let x=!0;function w(){s.has(t)&&(b(e,t),g(e),d(e))}function S(y){var k;if(y===t){const M=u(e,y);if(!Gt(M))if(gn(y))rt(e,y,y.init);else throw new Error("no atom init");return et(M)}const N=h(e,y);try{return et(N)}finally{p.d.set(y,N.n),pn(p.v)&&vn(t,p.v,N),(k=s.get(y))==null||k.t.add(t),x||w()}}let C,R;const A={get signal(){return C||(C=new AbortController),C.signal},get setSelf(){return(xe?"production":void 0)!=="production"&&!xt(t)&&console.warn("setSelf function cannot be used with read-only atom"),!R&&xt(t)&&(R=(...y)=>{if((xe?"production":void 0)!=="production"&&x&&console.warn("setSelf function cannot be called in sync"),!x)try{return v(e,t,...y)}finally{g(e),d(e)}}),R}},D=p.n;try{const y=l(e,t,S,A);return rt(e,t,y),nt(y)&&(St(y,()=>C?.abort()),y.then(w,w)),(n=c.r)==null||n.call(c,t),p}catch(y){return delete p.v,p.e=y,++p.n,p}finally{x=!1,D!==p.n&&a.get(t)===D&&(a.set(t,p.n),i.add(t),(r=c.c)==null||r.call(c,t))}},pr=(e,t)=>{const n=P(e),r=n[1],o=n[2],s=n[11],a=[t];for(;a.length;){const i=a.pop(),c=s(e,i);for(const l of bn(i,c,r)){const u=s(e,l);o.set(l,u.n),a.push(l)}}},mn=(e,t,...n)=>{const r=P(e),o=r[3],s=r[6],a=r[8],i=r[11],c=r[12],l=r[13],u=r[14],d=r[15],g=r[17];let h=!0;const v=p=>et(u(e,p)),b=(p,...x)=>{var w;const S=i(e,p);try{if(p===t){if(!gn(p))throw new Error("atom not writable");const C=S.n,R=x[0];rt(e,p,R),g(e,p),C!==S.n&&(o.add(p),(w=s.c)==null||w.call(s,p),d(e,p));return}else return mn(e,p,...x)}finally{h||(l(e),c(e))}};try{return a(e,t,v,b,...n)}finally{h=!1}},vr=(e,t)=>{var n;const r=P(e),o=r[1],s=r[3],a=r[6],i=r[11],c=r[15],l=r[18],u=r[19],d=i(e,t),g=o.get(t);if(g&&!pn(d.v)){for(const[h,v]of d.d)if(!g.d.has(h)){const b=i(e,h);l(e,h).t.add(t),g.d.add(h),v!==b.n&&(s.add(h),(n=a.c)==null||n.call(a,h),c(e,h))}for(const h of g.d||[])if(!d.d.has(h)){g.d.delete(h);const v=u(e,h);v?.t.delete(t)}}},yn=(e,t)=>{var n;const r=P(e),o=r[1],s=r[4],a=r[6],i=r[10],c=r[11],l=r[12],u=r[13],d=r[14],g=r[16],h=c(e,t);let v=o.get(t);if(!v){d(e,t);for(const b of h.d.keys())yn(e,b).t.add(t);if(v={l:new Set,d:new Set(h.d.keys()),t:new Set},o.set(t,v),(n=a.m)==null||n.call(a,t),xt(t)){const b=()=>{let p=!0;const x=(...w)=>{try{return g(e,t,...w)}finally{p||(u(e),l(e))}};try{const w=i(e,t,x);w&&(v.u=()=>{p=!0;try{w()}finally{p=!1}})}finally{p=!1}};s.add(b)}}return v},br=(e,t)=>{var n;const r=P(e),o=r[1],s=r[5],a=r[6],i=r[11],c=r[19],l=i(e,t);let u=o.get(t);if(u&&!u.l.size&&!Array.from(u.t).some(d=>{var g;return(g=o.get(d))==null?void 0:g.d.has(t)})){u.u&&s.add(u.u),u=void 0,o.delete(t),(n=a.u)==null||n.call(a,t);for(const d of l.d.keys()){const g=c(e,d);g?.t.delete(t)}return}return u},rt=(e,t,n)=>{const r=P(e)[11],o=r(e,t),s="v"in o,a=o.v;if(nt(n))for(const i of o.d.keys())vn(t,n,r(e,i));o.v=n,delete o.e,(!s||!Object.is(a,o.v))&&(++o.n,nt(a)&&ir(a))},mr=(e,t)=>{const n=P(e)[14];return et(n(e,t))},yr=(e,t,...n)=>{const r=P(e),o=r[12],s=r[13],a=r[16];try{return a(e,t,...n)}finally{s(e),o(e)}},wr=(e,t,n)=>{const r=P(e),o=r[12],s=r[18],a=r[19],c=s(e,t).l;return c.add(n),o(e),()=>{c.delete(n),a(e,t),o(e)}},wn=new WeakMap,P=e=>{const t=wn.get(e);if((xe?"production":void 0)!=="production"&&!t)throw new Error("Store must be created by buildStore to read its building blocks");return t};function xr(...e){const t={get(r){const o=P(t)[21];return o(t,r)},set(r,...o){const s=P(t)[22];return s(t,r,...o)},sub(r,o){const s=P(t)[23];return s(t,r,o)}},n=[new WeakMap,new WeakMap,new WeakMap,new Set,new Set,new Set,{},ar,cr,lr,ur,dr,fr,hr,gr,pr,mn,vr,yn,br,rt,mr,yr,wr,void 0].map((r,o)=>e[o]||r);return wn.set(t,Object.freeze(n)),t}const xn={};let Sr=0;function Jt(e,t){const n=`atom${++Sr}`,r={toString(){return(xn?"production":void 0)!=="production"&&this.debugLabel?n+":"+this.debugLabel:n}};return typeof e=="function"?r.read=e:(r.init=e,r.read=Cr,r.write=Dr),t&&(r.write=t),r}function Cr(e){return e(this)}function Dr(e,t,n){return t(this,typeof n=="function"?n(e(this)):n)}function Rr(){return xr()}let Te;function Er(){return Te||(Te=Rr(),(xn?"production":void 0)!=="production"&&(globalThis.__JOTAI_DEFAULT_STORE__||(globalThis.__JOTAI_DEFAULT_STORE__=Te),globalThis.__JOTAI_DEFAULT_STORE__!==Te&&console.warn("Detected multiple Jotai instances. It may cause unexpected behavior with the default store. https://github.com/pmndrs/jotai/discussions/2044"))),Te}const Ar={},Ir=f.createContext(void 0);function Sn(e){return f.useContext(Ir)||Er()}const Ct=e=>typeof e?.then=="function",Dt=e=>{e.status||(e.status="pending",e.then(t=>{e.status="fulfilled",e.value=t},t=>{e.status="rejected",e.reason=t}))},Mr=L.use||(e=>{if(e.status==="pending")throw e;if(e.status==="fulfilled")return e.value;throw e.status==="rejected"?e.reason:(Dt(e),e)}),vt=new WeakMap,qt=(e,t)=>{let n=vt.get(e);return n||(n=new Promise((r,o)=>{let s=e;const a=l=>u=>{s===l&&r(u)},i=l=>u=>{s===l&&o(u)},c=()=>{try{const l=t();Ct(l)?(vt.set(l,n),s=l,l.then(a(l),i(l)),St(l,c)):r(l)}catch(l){o(l)}};e.then(a(e),i(e)),St(e,c)}),vt.set(e,n)),n};function kr(e,t){const{delay:n,unstable_promiseStatus:r=!L.use}={},o=Sn(),[[s,a,i],c]=f.useReducer(u=>{const d=o.get(e);return Object.is(u[0],d)&&u[1]===o&&u[2]===e?u:[d,o,e]},void 0,()=>[o.get(e),o,e]);let l=s;if((a!==o||i!==e)&&(c(),l=o.get(e)),f.useEffect(()=>{const u=o.sub(e,()=>{if(r)try{const d=o.get(e);Ct(d)&&Dt(qt(d,()=>o.get(e)))}catch{}if(typeof n=="number"){setTimeout(c,n);return}c()});return c(),u},[o,e,n,r]),f.useDebugValue(l),Ct(l)){const u=qt(l,()=>o.get(e));return r&&Dt(u),Mr(u)}return l}function Nr(e,t){const n=Sn();return f.useCallback((...o)=>{if((Ar?"production":void 0)!=="production"&&!("write"in e))throw new Error("not writable atom");return n.set(e,...o)},[n,e])}function Rt(e,t){return[kr(e),Nr(e)]}/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Or=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Tr=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),Zt=e=>{const t=Tr(e);return t.charAt(0).toUpperCase()+t.slice(1)},Cn=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),jr=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var _r={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lr=f.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:o="",children:s,iconNode:a,...i},c)=>f.createElement("svg",{ref:c,..._r,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:Cn("lucide",o),...!s&&!jr(i)&&{"aria-hidden":"true"},...i},[...a.map(([l,u])=>f.createElement(l,u)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ct=(e,t)=>{const n=f.forwardRef(({className:r,...o},s)=>f.createElement(Lr,{ref:s,iconNode:t,className:Cn(`lucide-${Or(Zt(e))}`,`lucide-${e}`,r),...o}));return n.displayName=Zt(e),n};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pr=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Br=ct("calendar",Pr);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zr=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],$r=ct("grip-vertical",zr);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fr=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Wr=ct("users",Fr);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ur=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Xr=ct("x",Ur),Nt={},Hr=Symbol((Nt?"production":void 0)!=="production"?"RESET":""),Dn=e=>typeof e?.then=="function";function Vr(e=()=>{try{return window.localStorage}catch(n){(Nt?"production":void 0)!=="production"&&typeof window<"u"&&console.warn(n);return}},t){var n;let r,o;const s={getItem:(c,l)=>{var u,d;const g=v=>{if(v=v||"",r!==v){try{o=JSON.parse(v,t?.reviver)}catch{return l}r=v}return o},h=(d=(u=e())==null?void 0:u.getItem(c))!=null?d:null;return Dn(h)?h.then(g):g(h)},setItem:(c,l)=>{var u;return(u=e())==null?void 0:u.setItem(c,JSON.stringify(l,void 0))},removeItem:c=>{var l;return(l=e())==null?void 0:l.removeItem(c)}},a=c=>(l,u,d)=>c(l,g=>{let h;try{h=JSON.parse(g||"")}catch{h=d}u(h)});let i;try{i=(n=e())==null?void 0:n.subscribe}catch{}return!i&&typeof window<"u"&&typeof window.addEventListener=="function"&&window.Storage&&(i=(c,l)=>{if(!(e()instanceof window.Storage))return()=>{};const u=d=>{d.storageArea===e()&&d.key===c&&l(d.newValue)};return window.addEventListener("storage",u),()=>{window.removeEventListener("storage",u)}}),i&&(s.subscribe=a(i)),s}const Yr=Vr();function Rn(e,t,n=Yr,r){const o=Jt(t);return(Nt?"production":void 0)!=="production"&&(o.debugPrivate=!0),o.onMount=a=>{a(n.getItem(e,t));let i;return n.subscribe&&(i=n.subscribe(e,a,t)),i},Jt(a=>a(o),(a,i,c)=>{const l=typeof c=="function"?c(a(o)):c;return l===Hr?(i(o,t),n.removeItem(e)):Dn(l)?l.then(u=>(i(o,u),n.setItem(e,u))):(i(o,l),n.setItem(e,l))})}const Kr=Rn("schedule",null),En=Rn("playerNames",["","","",""]);function Gr(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return f.useMemo(()=>r=>{t.forEach(o=>o(r))},t)}const lt=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Se(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function Ot(e){return"nodeType"in e}function z(e){var t,n;return e?Se(e)?e:Ot(e)&&(t=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?t:window:window}function Tt(e){const{Document:t}=z(e);return e instanceof t}function We(e){return Se(e)?!1:e instanceof z(e).HTMLElement}function An(e){return e instanceof z(e).SVGElement}function Ce(e){return e?Se(e)?e.document:Ot(e)?Tt(e)?e:We(e)||An(e)?e.ownerDocument:document:document:document}const ee=lt?f.useLayoutEffect:f.useEffect;function jt(e){const t=f.useRef(e);return ee(()=>{t.current=e}),f.useCallback(function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t.current==null?void 0:t.current(...r)},[])}function Jr(){const e=f.useRef(null),t=f.useCallback((r,o)=>{e.current=setInterval(r,o)},[]),n=f.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,n]}function Be(e,t){t===void 0&&(t=[e]);const n=f.useRef(e);return ee(()=>{n.current!==e&&(n.current=e)},t),n}function Ue(e,t){const n=f.useRef();return f.useMemo(()=>{const r=e(n.current);return n.current=r,r},[...t])}function ot(e){const t=jt(e),n=f.useRef(null),r=f.useCallback(o=>{o!==n.current&&t?.(o,n.current),n.current=o},[]);return[n,r]}function Et(e){const t=f.useRef();return f.useEffect(()=>{t.current=e},[e]),t.current}let bt={};function Xe(e,t){return f.useMemo(()=>{if(t)return t;const n=bt[e]==null?0:bt[e]+1;return bt[e]=n,e+"-"+n},[e,t])}function In(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return r.reduce((s,a)=>{const i=Object.entries(a);for(const[c,l]of i){const u=s[c];u!=null&&(s[c]=u+e*l)}return s},{...t})}}const we=In(1),ze=In(-1);function qr(e){return"clientX"in e&&"clientY"in e}function _t(e){if(!e)return!1;const{KeyboardEvent:t}=z(e.target);return t&&e instanceof t}function Zr(e){if(!e)return!1;const{TouchEvent:t}=z(e.target);return t&&e instanceof t}function At(e){if(Zr(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return qr(e)?{x:e.clientX,y:e.clientY}:null}const $e=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[$e.Translate.toString(e),$e.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:r}=e;return t+" "+n+"ms "+r}}}),Qt="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function Qr(e){return e.matches(Qt)?e:e.querySelector(Qt)}const eo={display:"none"};function to(e){let{id:t,value:n}=e;return L.createElement("div",{id:t,style:eo},n)}function no(e){let{id:t,announcement:n,ariaLiveType:r="assertive"}=e;const o={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return L.createElement("div",{id:t,style:o,role:"status","aria-live":r,"aria-atomic":!0},n)}function ro(){const[e,t]=f.useState("");return{announce:f.useCallback(r=>{r!=null&&t(r)},[]),announcement:e}}const Mn=f.createContext(null);function oo(e){const t=f.useContext(Mn);f.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function so(){const[e]=f.useState(()=>new Set),t=f.useCallback(r=>(e.add(r),()=>e.delete(r)),[e]);return[f.useCallback(r=>{let{type:o,event:s}=r;e.forEach(a=>{var i;return(i=a[o])==null?void 0:i.call(a,s)})},[e]),t]}const io={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},ao={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function co(e){let{announcements:t=ao,container:n,hiddenTextDescribedById:r,screenReaderInstructions:o=io}=e;const{announce:s,announcement:a}=ro(),i=Xe("DndLiveRegion"),[c,l]=f.useState(!1);if(f.useEffect(()=>{l(!0)},[]),oo(f.useMemo(()=>({onDragStart(d){let{active:g}=d;s(t.onDragStart({active:g}))},onDragMove(d){let{active:g,over:h}=d;t.onDragMove&&s(t.onDragMove({active:g,over:h}))},onDragOver(d){let{active:g,over:h}=d;s(t.onDragOver({active:g,over:h}))},onDragEnd(d){let{active:g,over:h}=d;s(t.onDragEnd({active:g,over:h}))},onDragCancel(d){let{active:g,over:h}=d;s(t.onDragCancel({active:g,over:h}))}}),[s,t])),!c)return null;const u=L.createElement(L.Fragment,null,L.createElement(to,{id:r,value:o.draggable}),L.createElement(no,{id:i,announcement:a}));return n?je.createPortal(u,n):u}var O;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(O||(O={}));function st(){}function en(e,t){return f.useMemo(()=>({sensor:e,options:t??{}}),[e,t])}function lo(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return f.useMemo(()=>[...t].filter(r=>r!=null),[...t])}const G=Object.freeze({x:0,y:0});function kn(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function Nn(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return n-r}function uo(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return r-n}function tn(e){let{left:t,top:n,height:r,width:o}=e;return[{x:t,y:n},{x:t+o,y:n},{x:t,y:n+r},{x:t+o,y:n+r}]}function On(e,t){if(!e||e.length===0)return null;const[n]=e;return n[t]}function nn(e,t,n){return t===void 0&&(t=e.left),n===void 0&&(n=e.top),{x:t+e.width*.5,y:n+e.height*.5}}const fo=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const o=nn(t,t.left,t.top),s=[];for(const a of r){const{id:i}=a,c=n.get(i);if(c){const l=kn(nn(c),o);s.push({id:i,data:{droppableContainer:a,value:l}})}}return s.sort(Nn)},ho=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const o=tn(t),s=[];for(const a of r){const{id:i}=a,c=n.get(i);if(c){const l=tn(c),u=o.reduce((g,h,v)=>g+kn(l[v],h),0),d=Number((u/4).toFixed(4));s.push({id:i,data:{droppableContainer:a,value:d}})}}return s.sort(Nn)};function go(e,t){const n=Math.max(t.top,e.top),r=Math.max(t.left,e.left),o=Math.min(t.left+t.width,e.left+e.width),s=Math.min(t.top+t.height,e.top+e.height),a=o-r,i=s-n;if(r<o&&n<s){const c=t.width*t.height,l=e.width*e.height,u=a*i,d=u/(c+l-u);return Number(d.toFixed(4))}return 0}const po=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const o=[];for(const s of r){const{id:a}=s,i=n.get(a);if(i){const c=go(i,t);c>0&&o.push({id:a,data:{droppableContainer:s,value:c}})}}return o.sort(uo)};function vo(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function Tn(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:G}function bo(e){return function(n){for(var r=arguments.length,o=new Array(r>1?r-1:0),s=1;s<r;s++)o[s-1]=arguments[s];return o.reduce((a,i)=>({...a,top:a.top+e*i.y,bottom:a.bottom+e*i.y,left:a.left+e*i.x,right:a.right+e*i.x}),{...n})}}const mo=bo(1);function yo(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function wo(e,t,n){const r=yo(t);if(!r)return e;const{scaleX:o,scaleY:s,x:a,y:i}=r,c=e.left-a-(1-o)*parseFloat(n),l=e.top-i-(1-s)*parseFloat(n.slice(n.indexOf(" ")+1)),u=o?e.width/o:e.width,d=s?e.height/s:e.height;return{width:u,height:d,top:l,right:c+u,bottom:l+d,left:c}}const xo={ignoreTransform:!1};function De(e,t){t===void 0&&(t=xo);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:l,transformOrigin:u}=z(e).getComputedStyle(e);l&&(n=wo(n,l,u))}const{top:r,left:o,width:s,height:a,bottom:i,right:c}=n;return{top:r,left:o,width:s,height:a,bottom:i,right:c}}function rn(e){return De(e,{ignoreTransform:!0})}function So(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}function Co(e,t){return t===void 0&&(t=z(e).getComputedStyle(e)),t.position==="fixed"}function Do(e,t){t===void 0&&(t=z(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(o=>{const s=t[o];return typeof s=="string"?n.test(s):!1})}function ut(e,t){const n=[];function r(o){if(t!=null&&n.length>=t||!o)return n;if(Tt(o)&&o.scrollingElement!=null&&!n.includes(o.scrollingElement))return n.push(o.scrollingElement),n;if(!We(o)||An(o)||n.includes(o))return n;const s=z(e).getComputedStyle(o);return o!==e&&Do(o,s)&&n.push(o),Co(o,s)?n:r(o.parentNode)}return e?r(e):n}function jn(e){const[t]=ut(e,1);return t??null}function mt(e){return!lt||!e?null:Se(e)?e:Ot(e)?Tt(e)||e===Ce(e).scrollingElement?window:We(e)?e:null:null}function _n(e){return Se(e)?e.scrollX:e.scrollLeft}function Ln(e){return Se(e)?e.scrollY:e.scrollTop}function It(e){return{x:_n(e),y:Ln(e)}}var T;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(T||(T={}));function Pn(e){return!lt||!e?!1:e===document.scrollingElement}function Bn(e){const t={x:0,y:0},n=Pn(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},r={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height},o=e.scrollTop<=t.y,s=e.scrollLeft<=t.x,a=e.scrollTop>=r.y,i=e.scrollLeft>=r.x;return{isTop:o,isLeft:s,isBottom:a,isRight:i,maxScroll:r,minScroll:t}}const Ro={x:.2,y:.2};function Eo(e,t,n,r,o){let{top:s,left:a,right:i,bottom:c}=n;r===void 0&&(r=10),o===void 0&&(o=Ro);const{isTop:l,isBottom:u,isLeft:d,isRight:g}=Bn(e),h={x:0,y:0},v={x:0,y:0},b={height:t.height*o.y,width:t.width*o.x};return!l&&s<=t.top+b.height?(h.y=T.Backward,v.y=r*Math.abs((t.top+b.height-s)/b.height)):!u&&c>=t.bottom-b.height&&(h.y=T.Forward,v.y=r*Math.abs((t.bottom-b.height-c)/b.height)),!g&&i>=t.right-b.width?(h.x=T.Forward,v.x=r*Math.abs((t.right-b.width-i)/b.width)):!d&&a<=t.left+b.width&&(h.x=T.Backward,v.x=r*Math.abs((t.left+b.width-a)/b.width)),{direction:h,speed:v}}function Ao(e){if(e===document.scrollingElement){const{innerWidth:s,innerHeight:a}=window;return{top:0,left:0,right:s,bottom:a,width:s,height:a}}const{top:t,left:n,right:r,bottom:o}=e.getBoundingClientRect();return{top:t,left:n,right:r,bottom:o,width:e.clientWidth,height:e.clientHeight}}function zn(e){return e.reduce((t,n)=>we(t,It(n)),G)}function Io(e){return e.reduce((t,n)=>t+_n(n),0)}function Mo(e){return e.reduce((t,n)=>t+Ln(n),0)}function ko(e,t){if(t===void 0&&(t=De),!e)return;const{top:n,left:r,bottom:o,right:s}=t(e);jn(e)&&(o<=0||s<=0||n>=window.innerHeight||r>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const No=[["x",["left","right"],Io],["y",["top","bottom"],Mo]];class Lt{constructor(t,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=ut(n),o=zn(r);this.rect={...t},this.width=t.width,this.height=t.height;for(const[s,a,i]of No)for(const c of a)Object.defineProperty(this,c,{get:()=>{const l=i(r),u=o[s]-l;return this.rect[c]+u},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class _e{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=t}add(t,n,r){var o;(o=this.target)==null||o.addEventListener(t,n,r),this.listeners.push([t,n,r])}}function Oo(e){const{EventTarget:t}=z(e);return e instanceof t?e:Ce(e)}function yt(e,t){const n=Math.abs(e.x),r=Math.abs(e.y);return typeof t=="number"?Math.sqrt(n**2+r**2)>t:"x"in t&&"y"in t?n>t.x&&r>t.y:"x"in t?n>t.x:"y"in t?r>t.y:!1}var V;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(V||(V={}));function on(e){e.preventDefault()}function To(e){e.stopPropagation()}var E;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(E||(E={}));const $n={start:[E.Space,E.Enter],cancel:[E.Esc],end:[E.Space,E.Enter,E.Tab]},jo=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case E.Right:return{...n,x:n.x+25};case E.Left:return{...n,x:n.x-25};case E.Down:return{...n,y:n.y+25};case E.Up:return{...n,y:n.y-25}}};class Pt{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:n}}=t;this.props=t,this.listeners=new _e(Ce(n)),this.windowListeners=new _e(z(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(V.Resize,this.handleCancel),this.windowListeners.add(V.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(V.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:n}=this.props,r=t.node.current;r&&ko(r),n(G)}handleKeyDown(t){if(_t(t)){const{active:n,context:r,options:o}=this.props,{keyboardCodes:s=$n,coordinateGetter:a=jo,scrollBehavior:i="smooth"}=o,{code:c}=t;if(s.end.includes(c)){this.handleEnd(t);return}if(s.cancel.includes(c)){this.handleCancel(t);return}const{collisionRect:l}=r.current,u=l?{x:l.left,y:l.top}:G;this.referenceCoordinates||(this.referenceCoordinates=u);const d=a(t,{active:n,context:r.current,currentCoordinates:u});if(d){const g=ze(d,u),h={x:0,y:0},{scrollableAncestors:v}=r.current;for(const b of v){const p=t.code,{isTop:x,isRight:w,isLeft:S,isBottom:C,maxScroll:R,minScroll:A}=Bn(b),D=Ao(b),y={x:Math.min(p===E.Right?D.right-D.width/2:D.right,Math.max(p===E.Right?D.left:D.left+D.width/2,d.x)),y:Math.min(p===E.Down?D.bottom-D.height/2:D.bottom,Math.max(p===E.Down?D.top:D.top+D.height/2,d.y))},k=p===E.Right&&!w||p===E.Left&&!S,N=p===E.Down&&!C||p===E.Up&&!x;if(k&&y.x!==d.x){const M=b.scrollLeft+g.x,Y=p===E.Right&&M<=R.x||p===E.Left&&M>=A.x;if(Y&&!g.y){b.scrollTo({left:M,behavior:i});return}Y?h.x=b.scrollLeft-M:h.x=p===E.Right?b.scrollLeft-R.x:b.scrollLeft-A.x,h.x&&b.scrollBy({left:-h.x,behavior:i});break}else if(N&&y.y!==d.y){const M=b.scrollTop+g.y,Y=p===E.Down&&M<=R.y||p===E.Up&&M>=A.y;if(Y&&!g.x){b.scrollTo({top:M,behavior:i});return}Y?h.y=b.scrollTop-M:h.y=p===E.Down?b.scrollTop-R.y:b.scrollTop-A.y,h.y&&b.scrollBy({top:-h.y,behavior:i});break}}this.handleMove(t,we(ze(d,this.referenceCoordinates),h))}}}handleMove(t,n){const{onMove:r}=this.props;t.preventDefault(),r(n)}handleEnd(t){const{onEnd:n}=this.props;t.preventDefault(),this.detach(),n()}handleCancel(t){const{onCancel:n}=this.props;t.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}Pt.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:r=$n,onActivation:o}=t,{active:s}=n;const{code:a}=e.nativeEvent;if(r.start.includes(a)){const i=s.activatorNode.current;return i&&e.target!==i?!1:(e.preventDefault(),o?.({event:e.nativeEvent}),!0)}return!1}}];function sn(e){return!!(e&&"distance"in e)}function an(e){return!!(e&&"delay"in e)}class Bt{constructor(t,n,r){var o;r===void 0&&(r=Oo(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=n;const{event:s}=t,{target:a}=s;this.props=t,this.events=n,this.document=Ce(a),this.documentListeners=new _e(this.document),this.listeners=new _e(r),this.windowListeners=new _e(z(a)),this.initialCoordinates=(o=At(s))!=null?o:G,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(V.Resize,this.handleCancel),this.windowListeners.add(V.DragStart,on),this.windowListeners.add(V.VisibilityChange,this.handleCancel),this.windowListeners.add(V.ContextMenu,on),this.documentListeners.add(V.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(an(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(sn(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,n){const{active:r,onPending:o}=this.props;o(r,t,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:t}=this,{onStart:n}=this.props;t&&(this.activated=!0,this.documentListeners.add(V.Click,To,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(V.SelectionChange,this.removeTextSelection),n(t))}handleMove(t){var n;const{activated:r,initialCoordinates:o,props:s}=this,{onMove:a,options:{activationConstraint:i}}=s;if(!o)return;const c=(n=At(t))!=null?n:G,l=ze(o,c);if(!r&&i){if(sn(i)){if(i.tolerance!=null&&yt(l,i.tolerance))return this.handleCancel();if(yt(l,i.distance))return this.handleStart()}if(an(i)&&yt(l,i.tolerance))return this.handleCancel();this.handlePending(i,l);return}t.cancelable&&t.preventDefault(),a(c)}handleEnd(){const{onAbort:t,onEnd:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleCancel(){const{onAbort:t,onCancel:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleKeydown(t){t.code===E.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const _o={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class zt extends Bt{constructor(t){const{event:n}=t,r=Ce(n.target);super(t,_o,r)}}zt.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return!n.isPrimary||n.button!==0?!1:(r?.({event:n}),!0)}}];const Lo={move:{name:"mousemove"},end:{name:"mouseup"}};var Mt;(function(e){e[e.RightClick=2]="RightClick"})(Mt||(Mt={}));class Po extends Bt{constructor(t){super(t,Lo,Ce(t.event.target))}}Po.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return n.button===Mt.RightClick?!1:(r?.({event:n}),!0)}}];const wt={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class Bo extends Bt{constructor(t){super(t,wt)}static setup(){return window.addEventListener(wt.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(wt.move.name,t)};function t(){}}}Bo.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;const{touches:o}=n;return o.length>1?!1:(r?.({event:n}),!0)}}];var Le;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(Le||(Le={}));var it;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(it||(it={}));function zo(e){let{acceleration:t,activator:n=Le.Pointer,canScroll:r,draggingRect:o,enabled:s,interval:a=5,order:i=it.TreeOrder,pointerCoordinates:c,scrollableAncestors:l,scrollableAncestorRects:u,delta:d,threshold:g}=e;const h=Fo({delta:d,disabled:!s}),[v,b]=Jr(),p=f.useRef({x:0,y:0}),x=f.useRef({x:0,y:0}),w=f.useMemo(()=>{switch(n){case Le.Pointer:return c?{top:c.y,bottom:c.y,left:c.x,right:c.x}:null;case Le.DraggableRect:return o}},[n,o,c]),S=f.useRef(null),C=f.useCallback(()=>{const A=S.current;if(!A)return;const D=p.current.x*x.current.x,y=p.current.y*x.current.y;A.scrollBy(D,y)},[]),R=f.useMemo(()=>i===it.TreeOrder?[...l].reverse():l,[i,l]);f.useEffect(()=>{if(!s||!l.length||!w){b();return}for(const A of R){if(r?.(A)===!1)continue;const D=l.indexOf(A),y=u[D];if(!y)continue;const{direction:k,speed:N}=Eo(A,y,w,t,g);for(const M of["x","y"])h[M][k[M]]||(N[M]=0,k[M]=0);if(N.x>0||N.y>0){b(),S.current=A,v(C,a),p.current=N,x.current=k;return}}p.current={x:0,y:0},x.current={x:0,y:0},b()},[t,C,r,b,s,a,JSON.stringify(w),JSON.stringify(h),v,l,R,u,JSON.stringify(g)])}const $o={x:{[T.Backward]:!1,[T.Forward]:!1},y:{[T.Backward]:!1,[T.Forward]:!1}};function Fo(e){let{delta:t,disabled:n}=e;const r=Et(t);return Ue(o=>{if(n||!r||!o)return $o;const s={x:Math.sign(t.x-r.x),y:Math.sign(t.y-r.y)};return{x:{[T.Backward]:o.x[T.Backward]||s.x===-1,[T.Forward]:o.x[T.Forward]||s.x===1},y:{[T.Backward]:o.y[T.Backward]||s.y===-1,[T.Forward]:o.y[T.Forward]||s.y===1}}},[n,t,r])}function Wo(e,t){const n=t!=null?e.get(t):void 0,r=n?n.node.current:null;return Ue(o=>{var s;return t==null?null:(s=r??o)!=null?s:null},[r,t])}function Uo(e,t){return f.useMemo(()=>e.reduce((n,r)=>{const{sensor:o}=r,s=o.activators.map(a=>({eventName:a.eventName,handler:t(a.handler,r)}));return[...n,...s]},[]),[e,t])}var Fe;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(Fe||(Fe={}));var kt;(function(e){e.Optimized="optimized"})(kt||(kt={}));const cn=new Map;function Xo(e,t){let{dragging:n,dependencies:r,config:o}=t;const[s,a]=f.useState(null),{frequency:i,measure:c,strategy:l}=o,u=f.useRef(e),d=p(),g=Be(d),h=f.useCallback(function(x){x===void 0&&(x=[]),!g.current&&a(w=>w===null?x:w.concat(x.filter(S=>!w.includes(S))))},[g]),v=f.useRef(null),b=Ue(x=>{if(d&&!n)return cn;if(!x||x===cn||u.current!==e||s!=null){const w=new Map;for(let S of e){if(!S)continue;if(s&&s.length>0&&!s.includes(S.id)&&S.rect.current){w.set(S.id,S.rect.current);continue}const C=S.node.current,R=C?new Lt(c(C),C):null;S.rect.current=R,R&&w.set(S.id,R)}return w}return x},[e,s,n,d,c]);return f.useEffect(()=>{u.current=e},[e]),f.useEffect(()=>{d||h()},[n,d]),f.useEffect(()=>{s&&s.length>0&&a(null)},[JSON.stringify(s)]),f.useEffect(()=>{d||typeof i!="number"||v.current!==null||(v.current=setTimeout(()=>{h(),v.current=null},i))},[i,d,h,...r]),{droppableRects:b,measureDroppableContainers:h,measuringScheduled:s!=null};function p(){switch(l){case Fe.Always:return!1;case Fe.BeforeDragging:return n;default:return!n}}}function Fn(e,t){return Ue(n=>e?n||(typeof t=="function"?t(e):e):null,[t,e])}function Ho(e,t){return Fn(e,t)}function Vo(e){let{callback:t,disabled:n}=e;const r=jt(t),o=f.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:s}=window;return new s(r)},[r,n]);return f.useEffect(()=>()=>o?.disconnect(),[o]),o}function dt(e){let{callback:t,disabled:n}=e;const r=jt(t),o=f.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:s}=window;return new s(r)},[n]);return f.useEffect(()=>()=>o?.disconnect(),[o]),o}function Yo(e){return new Lt(De(e),e)}function ln(e,t,n){t===void 0&&(t=Yo);const[r,o]=f.useState(null);function s(){o(c=>{if(!e)return null;if(e.isConnected===!1){var l;return(l=c??n)!=null?l:null}const u=t(e);return JSON.stringify(c)===JSON.stringify(u)?c:u})}const a=Vo({callback(c){if(e)for(const l of c){const{type:u,target:d}=l;if(u==="childList"&&d instanceof HTMLElement&&d.contains(e)){s();break}}}}),i=dt({callback:s});return ee(()=>{s(),e?(i?.observe(e),a?.observe(document.body,{childList:!0,subtree:!0})):(i?.disconnect(),a?.disconnect())},[e]),r}function Ko(e){const t=Fn(e);return Tn(e,t)}const un=[];function Go(e){const t=f.useRef(e),n=Ue(r=>e?r&&r!==un&&e&&t.current&&e.parentNode===t.current.parentNode?r:ut(e):un,[e]);return f.useEffect(()=>{t.current=e},[e]),n}function Jo(e){const[t,n]=f.useState(null),r=f.useRef(e),o=f.useCallback(s=>{const a=mt(s.target);a&&n(i=>i?(i.set(a,It(a)),new Map(i)):null)},[]);return f.useEffect(()=>{const s=r.current;if(e!==s){a(s);const i=e.map(c=>{const l=mt(c);return l?(l.addEventListener("scroll",o,{passive:!0}),[l,It(l)]):null}).filter(c=>c!=null);n(i.length?new Map(i):null),r.current=e}return()=>{a(e),a(s)};function a(i){i.forEach(c=>{const l=mt(c);l?.removeEventListener("scroll",o)})}},[o,e]),f.useMemo(()=>e.length?t?Array.from(t.values()).reduce((s,a)=>we(s,a),G):zn(e):G,[e,t])}function dn(e,t){t===void 0&&(t=[]);const n=f.useRef(null);return f.useEffect(()=>{n.current=null},t),f.useEffect(()=>{const r=e!==G;r&&!n.current&&(n.current=e),!r&&n.current&&(n.current=null)},[e]),n.current?ze(e,n.current):G}function qo(e){f.useEffect(()=>{if(!lt)return;const t=e.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of t)n?.()}},e.map(t=>{let{sensor:n}=t;return n}))}function Zo(e,t){return f.useMemo(()=>e.reduce((n,r)=>{let{eventName:o,handler:s}=r;return n[o]=a=>{s(a,t)},n},{}),[e,t])}function Wn(e){return f.useMemo(()=>e?So(e):null,[e])}const fn=[];function Qo(e,t){t===void 0&&(t=De);const[n]=e,r=Wn(n?z(n):null),[o,s]=f.useState(fn);function a(){s(()=>e.length?e.map(c=>Pn(c)?r:new Lt(t(c),c)):fn)}const i=dt({callback:a});return ee(()=>{i?.disconnect(),a(),e.forEach(c=>i?.observe(c))},[e]),o}function es(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return We(t)?t:e}function ts(e){let{measure:t}=e;const[n,r]=f.useState(null),o=f.useCallback(l=>{for(const{target:u}of l)if(We(u)){r(d=>{const g=t(u);return d?{...d,width:g.width,height:g.height}:g});break}},[t]),s=dt({callback:o}),a=f.useCallback(l=>{const u=es(l);s?.disconnect(),u&&s?.observe(u),r(u?t(u):null)},[t,s]),[i,c]=ot(a);return f.useMemo(()=>({nodeRef:i,rect:n,setRef:c}),[n,i,c])}const ns=[{sensor:zt,options:{}},{sensor:Pt,options:{}}],rs={current:{}},Qe={draggable:{measure:rn},droppable:{measure:rn,strategy:Fe.WhileDragging,frequency:kt.Optimized},dragOverlay:{measure:De}};class Pe extends Map{get(t){var n;return t!=null&&(n=super.get(t))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:n}=t;return!n})}getNodeFor(t){var n,r;return(n=(r=this.get(t))==null?void 0:r.node.current)!=null?n:void 0}}const os={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Pe,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:st},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Qe,measureDroppableContainers:st,windowRect:null,measuringScheduled:!1},ss={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:st,draggableNodes:new Map,over:null,measureDroppableContainers:st},ft=f.createContext(ss),Un=f.createContext(os);function is(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Pe}}}function as(e,t){switch(t.type){case O.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case O.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case O.DragEnd:case O.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case O.RegisterDroppable:{const{element:n}=t,{id:r}=n,o=new Pe(e.droppable.containers);return o.set(r,n),{...e,droppable:{...e.droppable,containers:o}}}case O.SetDroppableDisabled:{const{id:n,key:r,disabled:o}=t,s=e.droppable.containers.get(n);if(!s||r!==s.key)return e;const a=new Pe(e.droppable.containers);return a.set(n,{...s,disabled:o}),{...e,droppable:{...e.droppable,containers:a}}}case O.UnregisterDroppable:{const{id:n,key:r}=t,o=e.droppable.containers.get(n);if(!o||r!==o.key)return e;const s=new Pe(e.droppable.containers);return s.delete(n),{...e,droppable:{...e.droppable,containers:s}}}default:return e}}function cs(e){let{disabled:t}=e;const{active:n,activatorEvent:r,draggableNodes:o}=f.useContext(ft),s=Et(r),a=Et(n?.id);return f.useEffect(()=>{if(!t&&!r&&s&&a!=null){if(!_t(s)||document.activeElement===s.target)return;const i=o.get(a);if(!i)return;const{activatorNode:c,node:l}=i;if(!c.current&&!l.current)return;requestAnimationFrame(()=>{for(const u of[c.current,l.current]){if(!u)continue;const d=Qr(u);if(d){d.focus();break}}})}},[r,t,o,a,s]),null}function ls(e,t){let{transform:n,...r}=t;return e!=null&&e.length?e.reduce((o,s)=>s({transform:o,...r}),n):n}function us(e){return f.useMemo(()=>({draggable:{...Qe.draggable,...e?.draggable},droppable:{...Qe.droppable,...e?.droppable},dragOverlay:{...Qe.dragOverlay,...e?.dragOverlay}}),[e?.draggable,e?.droppable,e?.dragOverlay])}function ds(e){let{activeNode:t,measure:n,initialRect:r,config:o=!0}=e;const s=f.useRef(!1),{x:a,y:i}=typeof o=="boolean"?{x:o,y:o}:o;ee(()=>{if(!a&&!i||!t){s.current=!1;return}if(s.current||!r)return;const l=t?.node.current;if(!l||l.isConnected===!1)return;const u=n(l),d=Tn(u,r);if(a||(d.x=0),i||(d.y=0),s.current=!0,Math.abs(d.x)>0||Math.abs(d.y)>0){const g=jn(l);g&&g.scrollBy({top:d.y,left:d.x})}},[t,a,i,r,n])}const Xn=f.createContext({...G,scaleX:1,scaleY:1});var fe;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(fe||(fe={}));const fs=f.memo(function(t){var n,r,o,s;let{id:a,accessibility:i,autoScroll:c=!0,children:l,sensors:u=ns,collisionDetection:d=po,measuring:g,modifiers:h,...v}=t;const b=f.useReducer(as,void 0,is),[p,x]=b,[w,S]=so(),[C,R]=f.useState(fe.Uninitialized),A=C===fe.Initialized,{draggable:{active:D,nodes:y,translate:k},droppable:{containers:N}}=p,M=D!=null?y.get(D):null,Y=f.useRef({initial:null,translated:null}),K=f.useMemo(()=>{var _;return D!=null?{id:D,data:(_=M?.data)!=null?_:rs,rect:Y}:null},[D,M]),J=f.useRef(null),[Re,He]=f.useState(null),[$,Ve]=f.useState(null),te=Be(v,Object.values(v)),Ee=Xe("DndDescribedBy",a),Ye=f.useMemo(()=>N.getEnabled(),[N]),B=us(g),{droppableRects:ne,measureDroppableContainers:he,measuringScheduled:Ae}=Xo(Ye,{dragging:A,dependencies:[k.x,k.y],config:B.droppable}),X=Wo(y,D),Ke=f.useMemo(()=>$?At($):null,[$]),ie=or(),re=Ho(X,B.draggable.measure);ds({activeNode:D!=null?y.get(D):null,config:ie.layoutShiftCompensation,initialRect:re,measure:B.draggable.measure});const I=ln(X,B.draggable.measure,re),Ie=ln(X?X.parentElement:null),q=f.useRef({activatorEvent:null,active:null,activeNode:X,collisionRect:null,collisions:null,droppableRects:ne,draggableNodes:y,draggingNode:null,draggingNodeRect:null,droppableContainers:N,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),ge=N.getNodeFor((n=q.current.over)==null?void 0:n.id),oe=ts({measure:B.dragOverlay.measure}),pe=(r=oe.nodeRef.current)!=null?r:X,ve=A?(o=oe.rect)!=null?o:I:null,Ft=!!(oe.nodeRef.current&&oe.rect),Wt=Ko(Ft?null:I),ht=Wn(pe?z(pe):null),ae=Go(A?ge??X:null),Ge=Qo(ae),Je=ls(h,{transform:{x:k.x-Wt.x,y:k.y-Wt.y,scaleX:1,scaleY:1},activatorEvent:$,active:K,activeNodeRect:I,containerNodeRect:Ie,draggingNodeRect:ve,over:q.current.over,overlayNodeRect:oe.rect,scrollableAncestors:ae,scrollableAncestorRects:Ge,windowRect:ht}),Ut=Ke?we(Ke,k):null,Xt=Jo(ae),qn=dn(Xt),Zn=dn(Xt,[I]),be=we(Je,qn),me=ve?mo(ve,Je):null,Me=K&&me?d({active:K,collisionRect:me,droppableRects:ne,droppableContainers:Ye,pointerCoordinates:Ut}):null,Ht=On(Me,"id"),[ce,Vt]=f.useState(null),Qn=Ft?Je:we(Je,Zn),er=vo(Qn,(s=ce?.rect)!=null?s:null,I),gt=f.useRef(null),Yt=f.useCallback((_,F)=>{let{sensor:W,options:le}=F;if(J.current==null)return;const H=y.get(J.current);if(!H)return;const U=_.nativeEvent,Z=new W({active:J.current,activeNode:H,event:U,options:le,context:q,onAbort(j){if(!y.get(j))return;const{onDragAbort:Q}=te.current,se={id:j};Q?.(se),w({type:"onDragAbort",event:se})},onPending(j,ue,Q,se){if(!y.get(j))return;const{onDragPending:Ne}=te.current,de={id:j,constraint:ue,initialCoordinates:Q,offset:se};Ne?.(de),w({type:"onDragPending",event:de})},onStart(j){const ue=J.current;if(ue==null)return;const Q=y.get(ue);if(!Q)return;const{onDragStart:se}=te.current,ke={activatorEvent:U,active:{id:ue,data:Q.data,rect:Y}};je.unstable_batchedUpdates(()=>{se?.(ke),R(fe.Initializing),x({type:O.DragStart,initialCoordinates:j,active:ue}),w({type:"onDragStart",event:ke}),He(gt.current),Ve(U)})},onMove(j){x({type:O.DragMove,coordinates:j})},onEnd:ye(O.DragEnd),onCancel:ye(O.DragCancel)});gt.current=Z;function ye(j){return async function(){const{active:Q,collisions:se,over:ke,scrollAdjustedTranslate:Ne}=q.current;let de=null;if(Q&&Ne){const{cancelDrop:Oe}=te.current;de={activatorEvent:U,active:Q,collisions:se,delta:Ne,over:ke},j===O.DragEnd&&typeof Oe=="function"&&await Promise.resolve(Oe(de))&&(j=O.DragCancel)}J.current=null,je.unstable_batchedUpdates(()=>{x({type:j}),R(fe.Uninitialized),Vt(null),He(null),Ve(null),gt.current=null;const Oe=j===O.DragEnd?"onDragEnd":"onDragCancel";if(de){const pt=te.current[Oe];pt?.(de),w({type:Oe,event:de})}})}}},[y]),tr=f.useCallback((_,F)=>(W,le)=>{const H=W.nativeEvent,U=y.get(le);if(J.current!==null||!U||H.dndKit||H.defaultPrevented)return;const Z={active:U};_(W,F.options,Z)===!0&&(H.dndKit={capturedBy:F.sensor},J.current=le,Yt(W,F))},[y,Yt]),Kt=Uo(u,tr);qo(u),ee(()=>{I&&C===fe.Initializing&&R(fe.Initialized)},[I,C]),f.useEffect(()=>{const{onDragMove:_}=te.current,{active:F,activatorEvent:W,collisions:le,over:H}=q.current;if(!F||!W)return;const U={active:F,activatorEvent:W,collisions:le,delta:{x:be.x,y:be.y},over:H};je.unstable_batchedUpdates(()=>{_?.(U),w({type:"onDragMove",event:U})})},[be.x,be.y]),f.useEffect(()=>{const{active:_,activatorEvent:F,collisions:W,droppableContainers:le,scrollAdjustedTranslate:H}=q.current;if(!_||J.current==null||!F||!H)return;const{onDragOver:U}=te.current,Z=le.get(Ht),ye=Z&&Z.rect.current?{id:Z.id,rect:Z.rect.current,data:Z.data,disabled:Z.disabled}:null,j={active:_,activatorEvent:F,collisions:W,delta:{x:H.x,y:H.y},over:ye};je.unstable_batchedUpdates(()=>{Vt(ye),U?.(j),w({type:"onDragOver",event:j})})},[Ht]),ee(()=>{q.current={activatorEvent:$,active:K,activeNode:X,collisionRect:me,collisions:Me,droppableRects:ne,draggableNodes:y,draggingNode:pe,draggingNodeRect:ve,droppableContainers:N,over:ce,scrollableAncestors:ae,scrollAdjustedTranslate:be},Y.current={initial:ve,translated:me}},[K,X,Me,me,y,pe,ve,ne,N,ce,ae,be]),zo({...ie,delta:k,draggingRect:me,pointerCoordinates:Ut,scrollableAncestors:ae,scrollableAncestorRects:Ge});const nr=f.useMemo(()=>({active:K,activeNode:X,activeNodeRect:I,activatorEvent:$,collisions:Me,containerNodeRect:Ie,dragOverlay:oe,draggableNodes:y,droppableContainers:N,droppableRects:ne,over:ce,measureDroppableContainers:he,scrollableAncestors:ae,scrollableAncestorRects:Ge,measuringConfiguration:B,measuringScheduled:Ae,windowRect:ht}),[K,X,I,$,Me,Ie,oe,y,N,ne,ce,he,ae,Ge,B,Ae,ht]),rr=f.useMemo(()=>({activatorEvent:$,activators:Kt,active:K,activeNodeRect:I,ariaDescribedById:{draggable:Ee},dispatch:x,draggableNodes:y,over:ce,measureDroppableContainers:he}),[$,Kt,K,I,x,Ee,y,ce,he]);return L.createElement(Mn.Provider,{value:S},L.createElement(ft.Provider,{value:rr},L.createElement(Un.Provider,{value:nr},L.createElement(Xn.Provider,{value:er},l)),L.createElement(cs,{disabled:i?.restoreFocus===!1})),L.createElement(co,{...i,hiddenTextDescribedById:Ee}));function or(){const _=Re?.autoScrollEnabled===!1,F=typeof c=="object"?c.enabled===!1:c===!1,W=A&&!_&&!F;return typeof c=="object"?{...c,enabled:W}:{enabled:W}}}),hs=f.createContext(null),hn="button",gs="Draggable";function ps(e){let{id:t,data:n,disabled:r=!1,attributes:o}=e;const s=Xe(gs),{activators:a,activatorEvent:i,active:c,activeNodeRect:l,ariaDescribedById:u,draggableNodes:d,over:g}=f.useContext(ft),{role:h=hn,roleDescription:v="draggable",tabIndex:b=0}=o??{},p=c?.id===t,x=f.useContext(p?Xn:hs),[w,S]=ot(),[C,R]=ot(),A=Zo(a,t),D=Be(n);ee(()=>(d.set(t,{id:t,key:s,node:w,activatorNode:C,data:D}),()=>{const k=d.get(t);k&&k.key===s&&d.delete(t)}),[d,t]);const y=f.useMemo(()=>({role:h,tabIndex:b,"aria-disabled":r,"aria-pressed":p&&h===hn?!0:void 0,"aria-roledescription":v,"aria-describedby":u.draggable}),[r,h,b,p,v,u.draggable]);return{active:c,activatorEvent:i,activeNodeRect:l,attributes:y,isDragging:p,listeners:r?void 0:A,node:w,over:g,setNodeRef:S,setActivatorNodeRef:R,transform:x}}function vs(){return f.useContext(Un)}const bs="Droppable",ms={timeout:25};function ys(e){let{data:t,disabled:n=!1,id:r,resizeObserverConfig:o}=e;const s=Xe(bs),{active:a,dispatch:i,over:c,measureDroppableContainers:l}=f.useContext(ft),u=f.useRef({disabled:n}),d=f.useRef(!1),g=f.useRef(null),h=f.useRef(null),{disabled:v,updateMeasurementsFor:b,timeout:p}={...ms,...o},x=Be(b??r),w=f.useCallback(()=>{if(!d.current){d.current=!0;return}h.current!=null&&clearTimeout(h.current),h.current=setTimeout(()=>{l(Array.isArray(x.current)?x.current:[x.current]),h.current=null},p)},[p]),S=dt({callback:w,disabled:v||!a}),C=f.useCallback((y,k)=>{S&&(k&&(S.unobserve(k),d.current=!1),y&&S.observe(y))},[S]),[R,A]=ot(C),D=Be(t);return f.useEffect(()=>{!S||!R.current||(S.disconnect(),d.current=!1,S.observe(R.current))},[R,S]),f.useEffect(()=>(i({type:O.RegisterDroppable,element:{id:r,key:s,disabled:n,node:R,rect:g,data:D}}),()=>i({type:O.UnregisterDroppable,key:s,id:r})),[r]),f.useEffect(()=>{n!==u.current.disabled&&(i({type:O.SetDroppableDisabled,id:r,key:s,disabled:n}),u.current.disabled=n)},[r,s,n,i]),{active:a,rect:g,isOver:c?.id===r,node:R,over:c,setNodeRef:A}}function $t(e,t,n){const r=e.slice();return r.splice(n<0?r.length+n:n,0,r.splice(t,1)[0]),r}function ws(e,t){return e.reduce((n,r,o)=>{const s=t.get(r);return s&&(n[o]=s),n},Array(e.length))}function qe(e){return e!==null&&e>=0}function xs(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function Ss(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const Hn=e=>{let{rects:t,activeIndex:n,overIndex:r,index:o}=e;const s=$t(t,r,n),a=t[o],i=s[o];return!i||!a?null:{x:i.left-a.left,y:i.top-a.top,scaleX:i.width/a.width,scaleY:i.height/a.height}},Ze={scaleX:1,scaleY:1},Cs=e=>{var t;let{activeIndex:n,activeNodeRect:r,index:o,rects:s,overIndex:a}=e;const i=(t=s[n])!=null?t:r;if(!i)return null;if(o===n){const l=s[a];return l?{x:0,y:n<a?l.top+l.height-(i.top+i.height):l.top-i.top,...Ze}:null}const c=Ds(s,o,n);return o>n&&o<=a?{x:0,y:-i.height-c,...Ze}:o<n&&o>=a?{x:0,y:i.height+c,...Ze}:{x:0,y:0,...Ze}};function Ds(e,t,n){const r=e[t],o=e[t-1],s=e[t+1];return r?n<t?o?r.top-(o.top+o.height):s?s.top-(r.top+r.height):0:s?s.top-(r.top+r.height):o?r.top-(o.top+o.height):0:0}const Vn="Sortable",Yn=L.createContext({activeIndex:-1,containerId:Vn,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:Hn,disabled:{draggable:!1,droppable:!1}});function Rs(e){let{children:t,id:n,items:r,strategy:o=Hn,disabled:s=!1}=e;const{active:a,dragOverlay:i,droppableRects:c,over:l,measureDroppableContainers:u}=vs(),d=Xe(Vn,n),g=i.rect!==null,h=f.useMemo(()=>r.map(A=>typeof A=="object"&&"id"in A?A.id:A),[r]),v=a!=null,b=a?h.indexOf(a.id):-1,p=l?h.indexOf(l.id):-1,x=f.useRef(h),w=!xs(h,x.current),S=p!==-1&&b===-1||w,C=Ss(s);ee(()=>{w&&v&&u(h)},[w,h,v,u]),f.useEffect(()=>{x.current=h},[h]);const R=f.useMemo(()=>({activeIndex:b,containerId:d,disabled:C,disableTransforms:S,items:h,overIndex:p,useDragOverlay:g,sortedRects:ws(h,c),strategy:o}),[b,d,C.draggable,C.droppable,S,h,p,c,g,o]);return L.createElement(Yn.Provider,{value:R},t)}const Es=e=>{let{id:t,items:n,activeIndex:r,overIndex:o}=e;return $t(n,r,o).indexOf(t)},As=e=>{let{containerId:t,isSorting:n,wasDragging:r,index:o,items:s,newIndex:a,previousItems:i,previousContainerId:c,transition:l}=e;return!l||!r||i!==s&&o===a?!1:n?!0:a!==o&&t===c},Is={duration:200,easing:"ease"},Kn="transform",Ms=$e.Transition.toString({property:Kn,duration:0,easing:"linear"}),ks={roleDescription:"sortable"};function Ns(e){let{disabled:t,index:n,node:r,rect:o}=e;const[s,a]=f.useState(null),i=f.useRef(n);return ee(()=>{if(!t&&n!==i.current&&r.current){const c=o.current;if(c){const l=De(r.current,{ignoreTransform:!0}),u={x:c.left-l.left,y:c.top-l.top,scaleX:c.width/l.width,scaleY:c.height/l.height};(u.x||u.y)&&a(u)}}n!==i.current&&(i.current=n)},[t,n,r,o]),f.useEffect(()=>{s&&a(null)},[s]),s}function Os(e){let{animateLayoutChanges:t=As,attributes:n,disabled:r,data:o,getNewIndex:s=Es,id:a,strategy:i,resizeObserverConfig:c,transition:l=Is}=e;const{items:u,containerId:d,activeIndex:g,disabled:h,disableTransforms:v,sortedRects:b,overIndex:p,useDragOverlay:x,strategy:w}=f.useContext(Yn),S=Ts(r,h),C=u.indexOf(a),R=f.useMemo(()=>({sortable:{containerId:d,index:C,items:u},...o}),[d,o,C,u]),A=f.useMemo(()=>u.slice(u.indexOf(a)),[u,a]),{rect:D,node:y,isOver:k,setNodeRef:N}=ys({id:a,data:R,disabled:S.droppable,resizeObserverConfig:{updateMeasurementsFor:A,...c}}),{active:M,activatorEvent:Y,activeNodeRect:K,attributes:J,setNodeRef:Re,listeners:He,isDragging:$,over:Ve,setActivatorNodeRef:te,transform:Ee}=ps({id:a,data:R,attributes:{...ks,...n},disabled:S.draggable}),Ye=Gr(N,Re),B=!!M,ne=B&&!v&&qe(g)&&qe(p),he=!x&&$,Ae=he&&ne?Ee:null,Ke=ne?Ae??(i??w)({rects:b,activeNodeRect:K,activeIndex:g,overIndex:p,index:C}):null,ie=qe(g)&&qe(p)?s({id:a,items:u,activeIndex:g,overIndex:p}):C,re=M?.id,I=f.useRef({activeId:re,items:u,newIndex:ie,containerId:d}),Ie=u!==I.current.items,q=t({active:M,containerId:d,isDragging:$,isSorting:B,id:a,index:C,items:u,newIndex:I.current.newIndex,previousItems:I.current.items,previousContainerId:I.current.containerId,transition:l,wasDragging:I.current.activeId!=null}),ge=Ns({disabled:!q,index:C,node:y,rect:D});return f.useEffect(()=>{B&&I.current.newIndex!==ie&&(I.current.newIndex=ie),d!==I.current.containerId&&(I.current.containerId=d),u!==I.current.items&&(I.current.items=u)},[B,ie,d,u]),f.useEffect(()=>{if(re===I.current.activeId)return;if(re!=null&&I.current.activeId==null){I.current.activeId=re;return}const pe=setTimeout(()=>{I.current.activeId=re},50);return()=>clearTimeout(pe)},[re]),{active:M,activeIndex:g,attributes:J,data:R,rect:D,index:C,newIndex:ie,items:u,isOver:k,isSorting:B,isDragging:$,listeners:He,node:y,overIndex:p,over:Ve,setNodeRef:Ye,setActivatorNodeRef:te,setDroppableNodeRef:N,setDraggableNodeRef:Re,transform:ge??Ke,transition:oe()};function oe(){if(ge||Ie&&I.current.newIndex===C)return Ms;if(!(he&&!_t(Y)||!l)&&(B||q))return $e.Transition.toString({...l,property:Kn})}}function Ts(e,t){var n,r;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(n=e?.draggable)!=null?n:t.draggable,droppable:(r=e?.droppable)!=null?r:t.droppable}}function at(e){if(!e)return!1;const t=e.data.current;return!!(t&&"sortable"in t&&typeof t.sortable=="object"&&"containerId"in t.sortable&&"items"in t.sortable&&"index"in t.sortable)}const js=[E.Down,E.Right,E.Up,E.Left],_s=(e,t)=>{let{context:{active:n,collisionRect:r,droppableRects:o,droppableContainers:s,over:a,scrollableAncestors:i}}=t;if(js.includes(e.code)){if(e.preventDefault(),!n||!r)return;const c=[];s.getEnabled().forEach(d=>{if(!d||d!=null&&d.disabled)return;const g=o.get(d.id);if(g)switch(e.code){case E.Down:r.top<g.top&&c.push(d);break;case E.Up:r.top>g.top&&c.push(d);break;case E.Left:r.left>g.left&&c.push(d);break;case E.Right:r.left<g.left&&c.push(d);break}});const l=ho({collisionRect:r,droppableRects:o,droppableContainers:c});let u=On(l,"id");if(u===a?.id&&l.length>1&&(u=l[1].id),u!=null){const d=s.get(n.id),g=s.get(u),h=g?o.get(g.id):null,v=g?.node.current;if(v&&h&&d&&g){const p=ut(v).some((A,D)=>i[D]!==A),x=Gn(d,g),w=Ls(d,g),S=p||!x?{x:0,y:0}:{x:w?r.width-h.width:0,y:w?r.height-h.height:0},C={x:h.left,y:h.top};return S.x&&S.y?C:ze(C,S)}}}};function Gn(e,t){return!at(e)||!at(t)?!1:e.data.current.sortable.containerId===t.data.current.sortable.containerId}function Ls(e,t){return!at(e)||!at(t)||!Gn(e,t)?!1:e.data.current.sortable.index<t.data.current.sortable.index}const Jn=4;function Ps({id:e,index:t,player:n,playersLength:r,onPlayerChange:o,onEnterKey:s,onRemove:a}){const{attributes:i,listeners:c,setNodeRef:l,transform:u,transition:d,isDragging:g}=Os({id:e}),h={transform:$e.Transform.toString(u),transition:d,opacity:g?.5:1};return m.jsxs("div",{ref:l,style:h,className:"grid grid-cols-[30px_30px_minmax(0,1fr)_30px] items-center gap-3",children:[m.jsx("button",{...i,...c,className:"text-gray-400 hover:text-gray-600 transition-colors cursor-grab active:cursor-grabbing touch-none","aria-label":"Drag to reorder",children:m.jsx($r,{size:20})}),m.jsxs("span",{className:"text-gray-400 font-medium text-lg",children:[t+1,"."]}),m.jsx("input",{id:`player-${t}`,type:"text",value:n,onChange:v=>o(t,v.target.value),onKeyDown:v=>s(v,t),placeholder:t===0?"Enter names here":"",className:"bg-transparent text-gray-900 text-lg placeholder-gray-400 focus:outline-none"}),m.jsx("div",{className:"w-[30px] flex justify-center",children:r>Jn&&n&&m.jsx("button",{onClick:()=>a(t),className:"text-gray-400 hover:text-gray-600 transition-colors",children:m.jsx(Xr,{size:20})})})]})}function Bs(){const[e,t]=Rt(En),n=lo(en(zt,{activationConstraint:{distance:8}}),en(Pt,{coordinateGetter:_s})),r=(i,c)=>{const l=[...e];l[i]=c,t(l)},o=(i,c)=>{if(i.key==="Enter")if(c===e.length-1)i.preventDefault(),t([...e,""]);else{const l=document.getElementById(`player-${c+1}`);l&&l.focus()}};f.useEffect(()=>{if(e.length>0){const i=e.length-1;document.getElementById(`player-${i}`)?.focus()}},[e.length]);const s=i=>{if(e.length>Jn){const c=e.filter((l,u)=>u!==i);t(c)}},a=i=>{const{active:c,over:l}=i;if(l&&c.id!==l.id){const u=e.findIndex((g,h)=>`player-${h}`===c.id),d=e.findIndex((g,h)=>`player-${h}`===l.id);t($t(e,u,d))}};return m.jsxs(m.Fragment,{children:[m.jsx(fs,{sensors:n,collisionDetection:fo,onDragEnd:a,children:m.jsx(Rs,{items:e.map((i,c)=>`player-${c}`),strategy:Cs,children:m.jsx("div",{className:"space-y-3",children:e.map((i,c)=>m.jsx(Ps,{id:`player-${c}`,index:c,player:i,playersLength:e.length,onPlayerChange:r,onEnterKey:o,onRemove:s},`player-${c}`))})})}),m.jsx("div",{className:"mt-6 pt-4 border-t border-gray-200",children:m.jsx("button",{onClick:()=>t([...e,""]),className:"text-gray-400 italic text-base hover:text-gray-600 transition-colors text-left",children:"Press Enter  or click here to add more"})})]})}function zs(e){const{team1:t,team2:n}=e;return t.every(r=>!!r)&&n.every(r=>!!r)}const $s=()=>{const[e,t]=Rt(Kr),[n,r]=Rt(En),o=()=>{const i=n.length;if(typeof i!="number"){alert("Please enter a valid number of players (must be divisible by 4).");return}const c=sr(i);if(!c){alert("Failed to generate schedule. Please check the number of players.");return}t(c),n.length||r(Array.from({length:i},(l,u)=>`Player ${u+1}`))},s=i=>n[i-1]||`Player ${i}`,a=e?"Regenerate bracket":"Generate bracket";return m.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-blue-50 p-8",children:m.jsxs("div",{className:"max-w-6xl mx-auto",children:[m.jsx("div",{className:"bg-white rounded-xl shadow-lg p-8 mb-8",children:m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx(Wr,{className:"w-8 h-8 text-green-600"}),m.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Pickleball Bracket Maker"})]})}),m.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8 mb-8",children:[m.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"Player Names"}),m.jsx("div",{className:"mb-8",children:m.jsx(Bs,{})}),m.jsx("button",{onClick:o,className:"flex items-center gap-2 bg-green-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-green-700 transition-colors",children:a})]}),e&&m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[m.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[m.jsx(Br,{className:"w-6 h-6 text-green-600"}),m.jsxs("h2",{className:"text-2xl font-bold text-gray-800",children:["Schedule (",e.length," rounds, ",e[0].length," ","courts)"]})]}),m.jsx("div",{className:"space-y-6",children:e.map((i,c)=>m.jsxs("div",{className:"border-l-4 border-green-500 px-6 py-4 bg-gray-50 rounded-r-lg",children:[m.jsxs("h3",{className:"text-xl font-semibold text-gray-800 mb-4",children:["Round ",c+1]}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:i.map((l,u)=>m.jsxs("div",{className:"bg-white p-4 rounded-lg shadow border border-gray-200",children:[m.jsxs("div",{className:"text-sm font-semibold text-green-600 mb-3",children:["Court ",l.court]}),zs(l)?m.jsx(m.Fragment,{children:m.jsxs("div",{className:"space-y-2",children:[m.jsx("div",{className:"flex items-center gap-2",children:m.jsxs("span",{className:"text-blue-600 font-medium",children:[s(l.team1[0])," &"," ",s(l.team1[1])]})}),m.jsx("div",{className:"text-gray-400 text-xs font-semibold",children:"VS"}),m.jsx("div",{className:"flex items-center gap-2",children:m.jsxs("span",{className:"text-purple-600 font-medium",children:[s(l.team2[0])," &"," ",s(l.team2[1])]})})]})}):m.jsxs(m.Fragment,{children:[m.jsx("div",{children:"Byes:"}),m.jsx("ul",{className:"list-disc list-inside text-gray-600",children:[...l.team1,...l.team2].filter(d=>d!==null).map(d=>m.jsx("li",{children:s(d)},d))})]})]},u))})]},c))})]}),m.jsxs("div",{className:"mt-8 bg-blue-50 border border-blue-200 rounded-xl p-6",children:[m.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:"Schedule Properties:"}),m.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[m.jsx("li",{children:" Each player partners with every other player exactly once"}),m.jsx("li",{children:" Each player opposes each other player twice"}),m.jsx("li",{children:" All players play in every round (no sitting out)"}),m.jsxs("li",{children:[" Uses ",e[0].length," court",e[0].length>1?"s":""," simultaneously"]})]})]})]})]})})};function Ws(){return m.jsx($s,{})}export{Ws as component};
